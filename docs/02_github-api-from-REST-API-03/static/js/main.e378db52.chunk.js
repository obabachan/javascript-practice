(this["webpackJsonpgithub-api-from-rest"]=this["webpackJsonpgithub-api-from-rest"]||[]).push([[0],{137:function(e,t,a){e.exports=a(285)},142:function(e,t,a){},144:function(e,t,a){},285:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),c=(a(142),a(76)),i=a.n(c),s=a(118),u=a(129),m=a(39),g=(a(144),a(298)),p=a(128),f=a(294),h=a(291),d=a(295),E=a(33),v=a(296),x=a(292),b=a(297),k=(a(145),a(146)),w=a(164);w().format();var y=100;function A(e){var t=[{key:"rank",value:function(t,a){return(e.page-1)*y+a},textAlign:"center"},{key:"repository / owner",value:function(e){return r.a.createElement(g.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:e.owner.avatar_url,size:"mini"}),r.a.createElement(g.a.Content,null,r.a.createElement("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.name)," ",r.a.createElement(g.a.Subheader,null,r.a.createElement("a",{href:e.owner.html_url,target:"_blank",rel:"noopener noreferrer"},e.owner.login))))},singleLine:!0},{key:"stars",value:function(e){return e.stargazers_count.toLocaleString()},textAlign:"right"},{key:"discription",value:function(e){return e.description}},{key:"language",value:function(e){return e.language},textAlign:"center"},{key:"update_at",value:function(e){return w(e.updated_at).fromNow()},textAlign:"right"},{key:"create_at",value:function(e){var t=new Date(e.created_at);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())},textAlign:"right"},{key:"licence",value:function(e){return e.license&&e.license.key},textAlign:"center"}],a=e.list.length&&e.list.map((function(e,a){return r.a.createElement(f.a.Row,null,t.map((function(t,n){return r.a.createElement(f.a.Cell,{singleLine:!!t.singleLine,textAlign:t.textAlign?t.textAlign:"left"},t.value(e,a+1))})))}));return r.a.createElement("div",null,r.a.createElement(f.a,{celled:!0,selectable:!0},r.a.createElement(f.a.Header,null,r.a.createElement(f.a.Row,null,t.map((function(e){return r.a.createElement(f.a.HeaderCell,{textAlign:"center"},e.key)})))),r.a.createElement(f.a.Body,null,a)))}var j=k.create({method:"get",baseURL:"https://api.github.com/",timeout:4e3,headers:{Accept:"application/vnd.github.v3+json"}}),_=!1;var O=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(m.a)(o,2),p=c[0],f=c[1],k=Object(n.useState)({title:"Please, choose",text:"Select the rank you want to see.",reset:{},status:{warning:!0}}),O=Object(m.a)(k,2),S=O[0],L=O[1],C=Object(n.useState)(0),R=Object(m.a)(C,2),P=R[0],q=R[1],z=Object(u.a)(Array(10).keys()).map((function(e){return{page:e+1,text:"".concat(e*y+1," - ").concat(e*y+y)}}));_||j.interceptors.request.use((function(e){return _=!0,f(!0),L({title:"Loading ...",text:"",status:{warning:!0}}),console.log("request"),e}),(function(e){return Promise.reject(e)}));var B=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===p&&j.get("/search/repositories",{params:{q:"stars:>1000",sort:"stars",per_page:y,page:a.page.page}}).then((function(e){console.log(e);var t=w.unix(e.headers["x-ratelimit-reset"]),n=w();console.log(t),console.log(t.diff(n,"seconds")),L({title:"Success",text:"Displayed rank ".concat(a.page.text,"."),status:{success:!0},reset:{seconds:t.diff(n,"seconds"),count:e.headers["x-ratelimit-remaining"],total:e.headers["x-ratelimit-limit"]}}),l(e.data.items),q(a.page.page)})).catch((function(e){console.log(e.response.status),console.log(e.response.headers);var t=w.unix(e.response.headers["x-ratelimit-reset"]),a=w();console.log(t),e.response&&403===e.response.status?L({title:"Error",text:"".concat(e.response.status," error.\n Please try after a while."),status:{error:!0},reset:{seconds:t.diff(a,"seconds"),count:e.response.headers["x-ratelimit-remaining"],total:e.response.headers["x-ratelimit-limit"]}}):L({title:"Error",text:"".concat(e.response.status," error."),status:{error:!0}})})).finally((function(){f(!1),console.log("finally")}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{textAlign:"center"},r.a.createElement(d.a,null,r.a.createElement(g.a,{as:"h1",textAlign:"center"},r.a.createElement(E.a,{name:"star"}),"Github Top1000 Ranking of number of stars"),"* There is a rate limit of 10 times per minute."),r.a.createElement(v.a.Group,{widths:"10"},z.map((function(e,t){return r.a.createElement(v.a,{page:e,onClick:B,active:P===t+1},e.text)}))),r.a.createElement(d.a,S.status,r.a.createElement(d.a.Content,null,r.a.createElement(d.a.Header,null,S.title),p?r.a.createElement(x.a,{active:!0}):r.a.createElement("p",null,r.a.createElement("p",null,S.text),S.reset.seconds&&r.a.createElement("p",null,"(Limit release time ",S.reset.seconds," seconds ago. ratelimit-remaining ",S.reset.count,"/",S.reset.total,")")))),r.a.createElement(A,{list:a,page:P}),r.a.createElement(b.a,{vertical:!0}),r.a.createElement(b.a,{vertical:!0},r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/obabachan/javascript-practice/tree/master/02_github-api-from-REST-API",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(E.a,{name:"github",size:"large"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[137,1,2]]]);
//# sourceMappingURL=main.e378db52.chunk.js.map